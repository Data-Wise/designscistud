p2[i] <- rbinom(n = 1,size = 200,prob = 0.7)/200
p3[i] <- rbinom(n = 1,size = 200,prob = 0.6)/200
p4[i] <- rbinom(n = 1,size = 200,prob = 0.5)/200
p5[i] <- rbinom(n = 1,size = 200,prob = 0.4)/200
res[i] <- IQR(c(p1[i],p2[i],p3[i],p4[i],p5[i]))
}
hist(res)
summary(res)
N <- 5000
p1 <- numeric(N)
p2 <- numeric(N)
p3 <- numeric(N)
p4 <- numeric(N)
p5 <- numeric(N)
res <- numeric(N)
for (i in 1:N){
p1[i] <- rbinom(n = 1,size = 200,prob = 0.8)/200
p2[i] <- rbinom(n = 1,size = 200,prob = 0.7)/200
p3[i] <- rbinom(n = 1,size = 200,prob = 0.6)/200
p4[i] <- rbinom(n = 1,size = 200,prob = 0.5)/200
p5[i] <- rbinom(n = 1,size = 200,prob = 0.4)/200
res[i] <- IQR(c(p1[i],p2[i],p3[i],p4[i],p5[i]))
}
hist(res)
summary(res)
qqnorm(res)
qqnorm(res);qqline(res)
N <- 5000
p1 <- numeric(N)
p2 <- numeric(N)
p3 <- numeric(N)
p4 <- numeric(N)
p5 <- numeric(N)
res <- numeric(N)
for (i in 1:N){
p1[i] <- rbinom(n = 1,size = 200,prob = 0.8)/200
p2[i] <- rbinom(n = 1,size = 200,prob = 0.7)/200
p3[i] <- rbinom(n = 1,size = 200,prob = 0.6)/200
p4[i] <- rbinom(n = 1,size = 200,prob = 0.5)/200
p5[i] <- rbinom(n = 1,size = 200,prob = 0.4)/200
res[i] <- sd(c(p1[i],p2[i],p3[i],p4[i],p5[i]))
}
hist(res)
#qqnorm(res);qqline(res)
summary(res)
setwd("~/Dropbox/Docs/sta305/2017/classslides/week3")
16*4
64+3*64
256*10
64+3*16
112*10
24*3.75
3*64
3*16
64+48
112*55
6160+90+1120+1200
1200+90
6160+1120+1290
64+48
1000+6750+1000
6160+1120+1290
64+48
112*65
1200+90
1290+1120+6160
1000+6550+1000
6160+1120+1290
8570-1000-1000
6570+2000
1000+6570+1000
6160+1120+1290
16*4
index
index <- sample(12,size=6,replace=F)
index
fert
fert[index]
fert[-index]
-index
seq(0.2,0.7,by=0.1)
ind4 <- seq(0.35,0.85,by=0.1)
ind1
ind1 <- seq(0.2,0.7,by=0.1)
ind2 <- seq(0.4,0.8,by=0.1)
ind3 <- seq(0.1,0.6,by=0.1)
ind4 <- seq(0.35,0.85,by=0.1)
ind1
ind2
ind2 <- seq(0.4,0.9,by=0.1)
ind2
ind3
ind4
cprops <- matrix(,nrow=4,ncol = 6)
cprops
rbind(ind1,ind2,ind3,ind4)
as.matrix(rbind(ind1,ind2,ind3,ind4))
inds <- rbind(ind1,ind2,ind3,ind4)
inds
inds[1,2]
inds[1,3]
intqrange <- numeric(4)
intqrange
n <- 200
intqrange <- numeric(4)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrang[i] <- IQR(cprops[i,])
}
intqrange <- numeric(4)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
intqrange
intqrange
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
intqrange
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
intqrange
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
intqrange
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
intqrange
sort(intqrange)
?rank
rank(intqrange)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
rank(intqrange)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
rank(intqrange)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
rank(intqrange)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
rank(intqrange)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
rank(intqrange)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
rank(intqrange)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
rank(intqrange)
M <- 100
intqrange <- numeric(4)
allranks <- numeric(M)
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k] <- rank(intqrange[i])
}
allranks
allranks <- matrix(,nrow=M,ncol=4)
allranks
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k,i] <- rank(intqrange[i])
}
allranks
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
rank(intqrange)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
rank(intqrange)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
rank(intqrange)
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
rank(intqrange)
allranks[1,1] <- rank(intqrange)
allranks[1,1]
allranks[1,] <- rank(intqrange)
allranks[1,]
allranks[1] <- rank(intqrange)
allranks <- numeric(M)
allranks[1] <- rank(intqrange)
allranks <- matrix(,nrow=M,ncol=4)
allranks[1,] <- rank(intqrange)
allranks[1,]
cprops <- matrix(,nrow=4,ncol = 6)
n <- 200
M <- 100
intqrange <- numeric(4)
allranks <- matrix(,nrow=M,ncol=4)
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k,] <- rank(intqrange[i])
}
allranks
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
allranks[k,] <- rank(intqrange[i])
}
}
allranks
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
allranks[k,] <- rank(intqrange[i])
}
}
allranks
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k,] <- rank(intqrange[i])
}
allranks
intqrange <- numeric(4)
intqrange[1]
intqrange[2]
intqrange[5]
intqrange <- numeric(4)
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k,] <- rank(intqrange)
}
allranks
hist(allranks[,1])
hist(allranks[,2])
hist(allranks[,3])
hist(allranks[,4])
cprops <- matrix(data = NA,nrow=4,ncol = 6)
n <- 200
M <- 100
intqrange <- numeric(4)
allranks <- matrix(data = NA,nrow=M,ncol=4)
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k,] <- rank(intqrange)
}
allranks
hist(allranks[,4])
M <- 1000
cprops <- matrix(data = NA,nrow=4,ncol = 6)
n <- 200
M <- 1000
intqrange <- numeric(4)
allranks <- matrix(data = NA,nrow=M,ncol=4)
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k,] <- rank(intqrange)
}
allranks
hist(allranks[,4])
hist(allranks[,1])
hist(allranks[,2])
hist(allranks[,3])
hist(allranks[,4])
seq(0.01,0.7,by=0.1)
seq(0.01,0.6,by=0.1)
ind1 <- seq(0.01,0.6,by=0.1)
ind2 <- seq(0.4,0.9,by=0.1)
ind3 <- seq(0.1,0.6,by=0.1)
ind4 <- seq(0.35,0.85,by=0.1)
inds <- rbind(ind1,ind2,ind3,ind4)
cprops <- matrix(data = NA,nrow=4,ncol = 6)
n <- 200
M <- 1000
intqrange <- numeric(4)
allranks <- matrix(data = NA,nrow=M,ncol=4)
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k,] <- rank(intqrange)
}
allranks
hist(allranks[,4])
hist(allranks[,1])
summary(allranks[,1])
quantile(allranks[,1],probs=c(.025,.975))
quantile(allranks[,2],probs=c(.025,.975))
quantile(allranks[,3],probs=c(.025,.975))
seq(0.35,0.5,by=0.1)
seq(0.35,0.5,by=0.05)
seq(0.35,0.5,by=0.025)
seq(0.35,0.5,by=0.03)
ind1 <- seq(0.01,0.6,by=0.1)
ind2 <- seq(0.4,0.9,by=0.1)
ind3 <- seq(0.1,0.6,by=0.1)
ind4 <- seq(0.35,0.5,by=0.03)
inds <- rbind(ind1,ind2,ind3,ind4)
cprops <- matrix(data = NA,nrow=4,ncol = 6)
n <- 200
M <- 1000
intqrange <- numeric(4)
allranks <- matrix(data = NA,nrow=M,ncol=4)
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k,] <- rank(intqrange)
}
allranks
quantile(allranks[,3],probs=c(.025,.975))
quantile(allranks[,1],probs=c(.025,.975))
quantile(allranks[,2],probs=c(.025,.975))
quantile(allranks[,4],probs=c(.025,.975))
quantile(allranks[,1:4],probs=c(.025,.975))
quantile(allranks[,4],probs=c(.025,.975))
quantile(allranks[,1],probs=c(.025,.975))
quantile(allranks[,2],probs=c(.025,.975))
quantile(allranks[,3],probs=c(.025,.975))
quantile(allranks[,4],probs=c(.025,.975))
allranks
hist(allranks[,1])
hist(allranks[,4])
hist(allranks[,3])
ind1 <- seq(0.01,0.6,by=0.1)
ind2 <- seq(0.4,0.9,by=0.1)
ind3 <- seq(0.1,0.6,by=0.1)
ind4 <- seq(0.35,0.5,by=0.03)
inds <- rbind(ind1,ind2,ind3,ind4)
cprops <- matrix(data = NA,nrow=4,ncol = 6)
n <- 100
M <- 1000
intqrange <- numeric(4)
allranks <- matrix(data = NA,nrow=M,ncol=4)
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k,] <- rank(intqrange)
}
hist(allranks[,3])
quantile(allranks[,1],probs=c(.025,.975))
quantile(allranks[,2],probs=c(.025,.975))
quantile(allranks[,3],probs=c(.025,.975))
quantile(allranks[,4],probs=c(.025,.975))
ind1 <- seq(0.01,0.6,by=0.1)
ind2 <- seq(0.4,0.9,by=0.1)
ind3 <- seq(0.1,0.6,by=0.1)
ind4 <- seq(0.35,0.5,by=0.03)
inds <- rbind(ind1,ind2,ind3,ind4)
cprops <- matrix(data = NA,nrow=4,ncol = 6)
n <- 50
M <- 1000
intqrange <- numeric(4)
allranks <- matrix(data = NA,nrow=M,ncol=4)
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k,] <- rank(intqrange)
}
hist(allranks[,3])
quantile(allranks[,1],probs=c(.025,.975))
quantile(allranks[,2],probs=c(.025,.975))
quantile(allranks[,3],probs=c(.025,.975))
quantile(allranks[,4],probs=c(.025,.975))
ind1 <- seq(0.01,0.6,by=0.1)
ind2 <- seq(0.4,0.9,by=0.1)
ind3 <- seq(0.1,0.6,by=0.1)
ind4 <- seq(0.35,0.5,by=0.03)
inds <- rbind(ind1,ind2,ind3,ind4)
cprops <- matrix(data = NA,nrow=4,ncol = 6)
n <- 500
M <- 1000
intqrange <- numeric(4)
allranks <- matrix(data = NA,nrow=M,ncol=4)
for (k in 1:M){
for (i in 1:4){
for(j in 1:6){
cprops[i,j] <- rbinom(n=1,size=n,prob=inds[i,j])/n
}
intqrange[i] <- IQR(cprops[i,])
}
allranks[k,] <- rank(intqrange)
}
hist(allranks[,3])
quantile(allranks[,1],probs=c(.025,.975))
quantile(allranks[,2],probs=c(.025,.975))
quantile(allranks[,3],probs=c(.025,.975))
quantile(allranks[,4],probs=c(.025,.975))
ind1
ind4
rank(c(1:4))
quantile(allranks[,1],probs=c(.025,.975))
quantile(allranks[,2],probs=c(.025,.975))
quantile(allranks[,3],probs=c(.025,.975))
quantile(allranks[,4],probs=c(.025,.975))
hist(allranks[,3])
hist(allranks[,1])
pnorm(-1.645)
